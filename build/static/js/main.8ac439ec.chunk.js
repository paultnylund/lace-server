(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(3),r=n.n(i),s=(n(13),n(1)),c=n(4),d=n(6),l=n(5),u=n(7),m=function(e){var t={image:e,treshold:.5};return console.log(t),console.log(t.image),console.log(JSON.stringify(t)),fetch("".concat("https://api.lace.guide","/stream/streamAndDetect"),{method:"POST",headers:{"Content-Type":"application/json",auth:"afjCEsnkK3bJ@#$dz%3JRTMtWJIAZs@Cc$Me*%!KkXpNR9G1MS$2xtfn5!FfGsy!caK5#kVd4l%ghDyFWp2jAVGaPYdAaerCDW9Snu0G#IOXVBIb*uCx5gt7O0&c1&tUg#G7Nd5nUHTQM7d32nzRlRa3D&WqWN9y&Bqe3SCv7C*mS4LFV5kM37wFbgDgvjELZI%mvx*v&a!w0Ie3XWy$Gdu6NJJUJ#eN^&Q!pCUVyWkZ9B7py8p^a*92r80iOrX3v@BSREqS^MEkx3$#2kUtP%#X5Oq!L*Ovg9Fg5$6xR0oX"},body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){console.log(e)})},h=function e(t){var n=this;Object(s.a)(this,e),this.grabImage=function(e){var t=e.createElement("canvas"),a=t.getContext("2d");a.drawImage(n.VIDOE_REF,0,0,n.VIDOE_REF.videoWidth,n.VIDOE_REF.videoHeight,0,0,n.UPLOAD_WITH,n.UPLOAD_WITH*(n.VIDOE_REF.videoHeight/n.VIDOE_REF.videoWidth)),t.toBlob(m,"image/jpeg"),console.log(a)},this.drawBoundingBoxes=function(e){var t=e.createElement("canvas").getContext("2d");console.log(t)},console.log(t),t&&(this.VIDOE_REF=t.videoRef,this.DATA_SOURCE=t.dataSource,this.UPLOAD_WITH=t.uploadWidth||640,this.MIRROR=t.mirror||!1,this.THRESHOLD=t.scoreThreshold||.5)},g=(n(15),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).grabCanvasImage=function(){n.OBJ_DETECT.grabImage(document)},n.renderCameraInput=function(){return n.state.support&&n.state.mediaStream&&(n.VIDEO.srcObject=n.state.mediaStream),o.a.createElement("h1",null,n.state.support)},n.renderBoundingBoxes=function(e){return n.state.renderBoundingBoxes?o.a.createElement("div",{className:"canvas-container"},e.drawBoundingBoxes()):null},n.state={support:null,mediaStream:null},n.MEDIA_STREAM=null,n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),n=!1,a=!1;this.OBJ_DETECT=new h({videoRef:this.VIDEO,dataMirror:!1,dataUploadWidth:1280,dataThreshold:.5}),this.VIDEO.addEventListener("playing",function(){n=!0,a&&e.OBJ_DETECT.grabImage(document)}),this.VIDEO.addEventListener("loadedmetadata",function(){a=!0,n&&e.OBJ_DETECT.grabImage(document)}),t?navigator.mediaDevices.getUserMedia({audio:!1,video:{width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080}}}).then(function(t){console.log(t),e.setState({support:!0,mediaStream:t})}):this.setState({support:"getUserMedia() IS NOT supported by this browser"})}},{key:"componentWillUnmount",value:function(){this.VIDEO.removeEventListener("playing",this.grabCanvasImage)}},{key:"renderOld",value:function(){var e=this;return o.a.createElement("div",{className:"App"},this.renderCameraInput(),o.a.createElement("video",{ref:function(t){return e.VIDEO=t},controls:!0,muted:!0,playsInline:!0,autoPlay:!0,height:"608",width:"608",className:"video-container"}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"video-container"},this.renderCameraInput(),o.a.createElement("video",{ref:function(t){return e.VIDEO=t},id:"video",controls:!0,muted:!0,playsInline:!0,autoPlay:!0,height:"608",width:"608",className:"video"})),o.a.createElement("div",{className:"button-container"}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(17)}},[[8,2,1]]]);
//# sourceMappingURL=main.8ac439ec.chunk.js.map